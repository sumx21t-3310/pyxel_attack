## **ゲーム仕様書**

### **1. ゲーム概要**
- 基本はブロック崩し形式で、ボールをパドルで跳ね返してブロックを消していくゲーム。
- ぷよぷよのような**落ちものパズル**要素を取り入れ、ブロックが常に詰まる仕組みを導入。
- **ボールの色**と**ブロックの色**が一致しないとブロックは消えない。
- ゲームエンジン: pyxel
- プログラム言語: Python
- 一人向けゲーム
---

### **2. ルール詳細**

#### **2.1 ボールとブロックの関係**
- **同じ色**のボールを当てるとブロックが消滅。
- **異なる色**の場合はボールが反射されるだけで、ブロックは消えない。

#### **2.2 ボールの色変化**
- **ブロックに当たったとき**:
  - ボールは当たった**ブロックの色**に変わる。
- **左右の壁に当たったとき**:
  - ボールは現在の色の**補色**に変わる。
  - 壁に当たるたびにブロックを消せるパワーがアップ。

#### **2.3 ブロックの動き**
- **パドルでボールを跳ね返すたびに、上から新しい段が追加される**。
- 新しい段が追加される際に、フィールド内で**空いている隙間を上のブロックが埋める**。
- **ブロックが消えると、その上のブロックは下に落ちてきて隙間が埋まる**。
- これにより、常に下から詰まった状態になる。

#### **2.4 コンボ要素**
- 1回のショットで複数のブロックを消すと**コンボボーナス**が発生。
- ブロックが消える→落下→さらに消える...の**連鎖**が発生することで高スコアを狙える。

#### **2.5 ゲームオーバー条件**
- ブロックが画面上部まで到達するとゲームオーバー。

---

### **3. カラーシステム**
- **使用する色**:
  - 赤 (R)、緑 (G)、青 (B) などの原色系を基本とする。
- **補色変換**:
  - 赤 <-> シアン (C)
  - 緑 <-> マゼンタ (M)
  - 青 <-> イエロー (Y)
- ボールは壁に当たるたびに補色に変化し、戦略的に色を操作する必要がある。

---

### **4. 操作方法**
- **パドルの操作**:
  - マウス、キーボードの左右キー、またはコントローラーでパドルを左右に動かす。
- **ボールの操作**:
  - プレイヤーはボールを直接操作できないが、パドルの位置と反射角で制御する。

---

### **5. フィールド設計**
- **グリッドベース**:
  - 8列 × 12行 などのグリッドで構成。
- **ブロック配置**:
  - 上から徐々にせり出すブロックをランダムな色で生成。
- **パドル**:
  - 画面下部に配置され、ボールを跳ね返す。
- **ボール**:
  - 1つのボールをメインとし、反射・色変化を繰り返しながらブロックを崩す。

---

### **6. ビジュアル・UI**
- **画面上部**:
  - 次にせり出す**ブロックのプレビュー**を表示。
- **画面下部**:
  - 現在の**ボールの色**を表示。
- **エフェクト**:
  - ブロックが消えたとき、色ごとのエフェクトを表示して視覚的満足度を高める。
- **スコア表示**:
  - 連鎖・コンボに応じてスコア加算。

---

### **7. ゲーム進行・難易度**
- **スピード調整**:
  - 時間が経つにつれてボールのスピードが徐々に上昇。
- **ブロックせり出し間隔**:
  - 最初は「5回パドルで跳ね返すごと」にせり出し。
  - 徐々に「3回」「2回」と頻度が上がり、最終的には毎回跳ね返すたびにせり出し。

---

### **8. 拡張要素・アイデア**
- **特殊ブロック**:
  - 色固定ブロック: 当たっても色が変わらない。
  - 消滅ブロック: 当たるだけで周囲のブロックも消滅。
- **パワーアップ要素**:
  - パドル拡張、ボール速度減少、一度だけブロックの色を変えられる、など。
- **ステージ制**:
  - クリア条件付きのステージモード（一定スコア達成、制限時間内クリアなど）。

---

## **期待できるゲーム性**
- **「ブロック崩しの反射神経」×「ぷよぷよの戦略性」**が融合。
- カラーリングのルールで**色の管理**が求められ、単純な反射だけでなく「どの色で攻めるか」を考える必要がある。
- 落ちもの要素で常に**フィールドが詰まり、プレッシャー**がかかるため、集中力が試される。
- **連鎖・コンボの爽快感**がプレイヤーを夢中にさせる。